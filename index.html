<!DOCTYPE html>
<html lang="ka" data-theme="light">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Task Manager – სახურავის სამუშაოები (Web ვერსია)</title>
  <link rel="stylesheet" href="Task-Manager.css">
  <!-- Icon set -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon/fonts/remixicon.css" rel="stylesheet">
</head>

<body>
<header>
  <span>Task Manager – სახურავის სამუშაოები (Web ვერსია)</span>
  <button id="theme-toggle" class="theme-toggle-btn"><i class="ri-moon-line"></i> Dark</button>
</header>
<main>
  <div class="layout">
    <!-- მარცხენა – სია + დეტალები -->
    <section class="card">
      <h2>დავალებების სია</h2>

      <div class="filters-row">
        <label style="min-width:200px;">
          <i class="ri-search-line"></i>
          ძებნა:
          <input type="text" id="search" class="small-input" placeholder="სათაური ან აღწერა">
        </label>

        <label>
          <i class="ri-sort-desc"></i>
          დალაგება:
          <select id="sort" class="small-input">
            <option>დამატების რიგით</option>
            <option>ვადით (ჯერ ადრე)</option>
            <option>სტატუსით (აქტიური ზემოთ)</option>
            <option>პრიორიტეტით</option>
          </select>
        </label>

        <label>
          <i class="ri-filter-2-line"></i>
          სტატუსი:
          <select id="status-filter" class="small-input">
            <option value="all">ყველა</option>
            <option value="current">მიმდინარე</option>
            <option value="done">შესრულებული</option>
            <option value="deleted">წაშლილი</option>
          </select>
        </label>
      </div>

      <div class="list" id="task-list"></div>

      <div class="details" id="details-box">
        <h3>დეტალები</h3>
        <p><strong>დასახელება:</strong> <span id="d-title"> -</span></p>
        <p><strong>საწყისი ვადა:</strong> <span id="d-start"> -</span></p>
        <p><strong>დეტალები:</strong> <span id="d-due"> -</span></p>
        <p><strong>სტატუსი:</strong> <span id="d-status"> -</span></p>
        <p><strong>პროჯექტი:</strong> <span id="d-project"> -</span></p>
        <p><strong>აღწერა:</strong> <span id="d-desc"> -</span></p>
        <p><strong>თანხა:</strong> <span id="d-amount"> -</span></p>
      </div>

      <div class="status-bar" id="status-bar">
        დავალებები: 0 აქტიური / 0 დასრულებული / 0 სულ
      </div>
    </section>

    <!-- მარჯვენა – ფორმა + dashboard -->
    <section class="card">
      <h2>ახალი დავალება / რედაქტირება</h2>
      <form id="task-form" autocomplete="off">
        <input type="hidden" id="task-id">
        <div class="form-grid">
          <div class="form-row">
            <label for="title">დასახელება:</label>
            <input type="text" id="title" required>
          </div>

          <div class="form-row form-row-inline">
            <div class="form-col">
              <label for="start-date">საწყისი ვადა:</label>
              <input type="date" id="start-date" required>
            </div>
            <div class="form-col">
              <label for="due">დედლაინი:</label>
              <input type="date" id="due" required>
            </div>
          </div>

          <div class="form-row">
            <label for="priority">პრიორიტეტი:</label>
            <select id="priority" required>
              <option value="low">დაბალი</option>
              <option value="normal" selected>საშუალო</option>
              <option value="high">მაღალი</option>
            </select>
          </div>

          <!-- TASK STATUS: use keys as values -->
          <div class="form-row">
            <label for="task-status">სტატუსი:</label>
            <select id="task-status" required>
              <option value="pending">ასაწყობია</option>
              <option value="assembled">აწყობილია</option>
              <option value="sent">გაგზავნილია</option>
              <option value="signed">ხელმოწერილია</option>
              <option value="uploaded">ატვირთულია</option>
            </select>
          </div>

          <div class="form-row">
            <label for="project">პროექტი:</label>
            <select id="project" required>
              <option value="">აირჩიე...</option>
              <option value="A ბლოკი">A ბლოკი</option>
              <option value="B ბლოკი">B ბლოკი</option>
              <option value="C ბლოკი">C ბლოკი</option>
              <option value="other">სხვა</option>
            </select>

            <!-- ეს ველი იხელმძღვანელებს მხოლოდ "სხვა" არჩევისას -->
            <label for="project-other"></label>
            <input type="text" id="project-other" placeholder="ჩაწერე პროექტი..." style="display:none; margin-top:6px;">
          </div>

          <div class="form-row">
            <label for="description">აღწერა:</label>
            <textarea id="description" placeholder="დეტალები..." required></textarea>
          </div>

          <div class="form-row">
            <label for="photos">ფოტო(ებ)ის დამატება:</label>
            <input type="file" id="photos" accept="image/*" multiple>
          </div>

          <div class="form-row">
            <label for="amount">თანხა (GEL):</label>
            <input type="number" id="amount" step="0.01" placeholder="0.00" min="0">
          </div>
        </div>

        <div class="buttons">
          <button type="submit" class="btn-primary" id="save-btn"><i class="ri-save-3-line"></i> დავალების შენახვა</button>
          <button type="button" class="btn-secondary" id="clear-btn"><i class="ri-eraser-line"></i> ფორმის გასუფთავება</button>
          <button type="button" class="btn-secondary" id="toggle-done-btn"><i class="ri-checkbox-circle-line"></i> დასრულებული / აქტიური</button>
          <button type="button" class="btn-danger" id="delete-btn"><i class="ri-delete-bin-line"></i> წაშლა / ნაგავში გადატანა</button>
        </div>
      </form>

      <div class="card dashboard" style="margin-top:8px; padding:8px;">
        <h2 style="margin-bottom:6px;">მიმოხილვა</h2>

        <!-- ჯგუფური კონტროლები: ჩათვლა დასრულებული/ნაგავი -->
        <div class="toggle-row" style="display:flex; gap:12px; align-items:center; margin-bottom:8px;">
          <label class="checkbox-wrap" style="align-items:center; gap:6px;">
            <input type="checkbox" id="include-done" />
            ჩათვალო დასრულებული თანხები
          </label>
          <label class="checkbox-wrap" style="align-items:center; gap:6px;">
            <input type="checkbox" id="include-deleted" />
            ჩათვალო ნაგავში თანხები
          </label>
        </div>

        <p id="dash-total"></p>
        <p id="dash-amounts" style="font-weight:600;"></p>
        <p id="dash-overdue"></p>
        <p id="dash-today"></p>
        <p id="dash-week"></p>
        <p id="dash-priority"></p>
      </div>
    </section>
  </div>
</main>

<script src="Task-Manager.js"></script>
</body>
</html>

